<!DOCTYPE html><html><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-W055DP4N3J"></script><script>
					window.dataLayer = window.dataLayer || [];
					function gtag(){dataLayer.push(arguments);}
					gtag('js', new Date());
					gtag('config', 'G-W055DP4N3J');</script><head><meta charSet="utf-8"/><meta name="description" content="기록 저장소"/><meta property="og:description" content="기록 저장소"/><meta property="og:url" content="https://mitny.github.io"/><meta property="og:type" content="website"/><meta property="og:locale" content="ko_KR"/><meta property="og:site_name" content="MitNy.log"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><title>[TensorFlow] TensorFlow 배열 다루기 |  MitNy.log</title><meta name="robots" content="index,follow"/><meta property="og:title" content="[TensorFlow] TensorFlow 배열 다루기 |  MitNy.log"/><link rel="canonical" href="https://mitny.github.io/articles/2019-07-12-Tensorflow-array-functions"/><meta name="next-head-count" content="12"/><meta name="naver-site-verification" content="b408dee953bcbbb1038384f191f36dac0551c0fb"/><meta name="google-site-verification" content="vUtYhRYNCWYYTdurCRaVmtnWpPLuXKKwRAm5F6R9sNs"/><link rel="preload" href="/_next/static/css/e6a7c67d207b98b3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e6a7c67d207b98b3.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-005bdf76005efab4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-14a2a9a26060c1d3.js" defer=""></script><script src="/_next/static/chunks/401-9f1400d964d6d7ce.js" defer=""></script><script src="/_next/static/chunks/pages/articles/%5Bdir_slug%5D/%5Bslug%5D-0b7b92862b8a360a.js" defer=""></script><script src="/_next/static/nJPyYqODS0udXw2rMLLyn/_buildManifest.js" defer=""></script><script src="/_next/static/nJPyYqODS0udXw2rMLLyn/_ssgManifest.js" defer=""></script></head><link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/favicon/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png"/><meta name="theme-color" content="#ffffff"/><body><div id="__next" data-reactroot=""><div class="header h-16 bg-white drop-shadow-md text-black"><div class="mx-10 pt-3 cursor-pointer"><p class="header-home text-3xl float-left">MitNy.log</p><p class="text-base font-bold pt-2 float-right">About</p></div></div><div class="mx-10 my-8"><div class="w-full min-h-screen pb-24 mt-8"><div class="w-full min-h-screen pb-24 mt-8"><article class="prose max-w-none"><div class="border-b"><p class="text-4xl font-bold mb-0">[TensorFlow] TensorFlow 배열 다루기</p><p class="text-xs text-neutral-500"></p></div><div><h3 id="상수-및-세션-생성">상수 및 세션 생성</h3>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf
</span><span class="code-line">
</span><span class="code-line">c1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation">,</span><span class="token number">7</span> <span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">c2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">c3 <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">c4 <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">v1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">v2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">v3 <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">v4 <span class="token operator">=</span> tf<span class="token punctuation">.</span>constant<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">session <span class="token operator">=</span> tf<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>global_variables_initializer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span></code></pre>
<h3 id="slicing">Slicing</h3>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"====== Slicing ======"</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span><span class="token builtin">slice</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [3 4 5]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span><span class="token builtin">slice</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [[4 3] [2 9]]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span><span class="token builtin">slice</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [[4 3 2 1] [2 9 8 7]]</span>
</span></code></pre>
<h3 id="tile">Tile</h3>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n====== Tile ======"</span><span class="token punctuation">)</span> <span class="token comment"># 한 텐서를 여러번 반복해 새로운 텐서를 만듦</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>tile<span class="token punctuation">(</span>c2<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [1 2 3 1 2 3 1 2 3]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>tile<span class="token punctuation">(</span>v2<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token comment"># [[6 5 4 6 5 4] [0 1 2 0 1 2] [6 5 4 6 5 4] [0 1 2 0 1 2]]</span>
</span></code></pre>
<h3 id="pad">Pad</h3>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n====== Pad ======"</span><span class="token punctuation">)</span> <span class="token comment"># 2차원 배열에서만 동작</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>pad<span class="token punctuation">(</span>v2<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"CONSTANT"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token comment"># [[0 0 0 0 0 0 0] [0 0 6 5 4 0 0] [0 0 0 1 2 0 0] [0 0 0 0 0 0 0]]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>pad<span class="token punctuation">(</span>v2<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"REFLECT"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 반복</span>
</span><span class="code-line"><span class="token comment"># [[2 1 0 1 2 1 0] [4 5 6 5 4 5 6] [2 1 0 1 2 1 0] [4 5 6 5 4 5 6]]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>pad<span class="token punctuation">(</span>v2<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"SYMMETRIC"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 가운데 대칭</span>
</span><span class="code-line"><span class="token comment"># [[5 6 6 5 4 4 5] [5 6 6 5 4 4 5] [1 0 0 1 2 2 1] [1 0 0 1 2 2 1]]</span>
</span></code></pre>
<h3 id="stack--unstack">Stack &#x26; Unstack</h3>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n====== Stack ======"</span><span class="token punctuation">)</span> <span class="token comment"># pack -> stack 차원 증가</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">[</span>c3<span class="token punctuation">,</span> v3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [[1 3 5] [2 4 6]]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">[</span>c4<span class="token punctuation">,</span> v4<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [[[1 3 5] [5 7 9]]  [[2 4 6] [6 8 0]]]</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n====== Unstack ======"</span><span class="token punctuation">)</span> <span class="token comment"># unpack -> unstack 차원 감소</span>
</span><span class="code-line">s1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">[</span>c3<span class="token punctuation">,</span>v3<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># [[1, 3, 5] [2 4 6]]</span>
</span><span class="code-line">s2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">[</span>c4<span class="token punctuation">,</span>v4<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># [[[1 3 5] [5 7 9]] [[2 4 6] [6 8 0]]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>unstack<span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [[1, 3, 5] [2, 4 ,6]]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>unstack<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [[[1, 3, 5], [5, 7, 9]], [[2, 4, 6], [6, 8, 0]]]</span>
</span></code></pre>
<h3 id="reverse">Reverse</h3>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n====== Reverse ======"</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span>v1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [[7 8 9 2 1 0] [1 2 3 4 5 6]]</span>
</span></code></pre>
<h3 id="transpose">Transpose</h3>
<p>전치행렬 리턴</p>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n====== Transpose ======"</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>c3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [1 3 5]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>c4<span class="token punctuation">,</span> perm<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [[1 3 5] [5 7 9]]</span>
</span></code></pre>
<h3 id="gather">Gather</h3>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n====== Gather ======"</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>gather<span class="token punctuation">(</span>c1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [3 0 3 0]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>gather<span class="token punctuation">(</span>v1<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token comment"># [[[6 5 4 3 2 1] [6 5 4 3 2 1]] [[0 1 2 9 8 7] [0 1 2 9 8 7]]]</span>
</span></code></pre>
<h3 id="one_hot">one_hot</h3>
<pre class="language-py"><code class="language-py code-highlight"><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n====== one_hot ======"</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>one_hot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token comment"># [[0. 1.] [0. 0.] [0. 0.] [0. 0.]]</span>
</span><span class="code-line"><span class="token keyword">print</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>one_hot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token comment"># [[0. 0. 1.] [0. 0. 0.] [0. 1. 0.]]</span>
</span></code></pre></div></article></div></div></div><footer class="h-16 bg-neutral-500"></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"2019-07-12-Tensorflow-array-functions","content":"\n### 상수 및 세션 생성\n```py\nimport tensorflow as tf\n\nc1 = tf.constant([1, 2, 3, 4, 5, 0, 9, 8 ,7 ,6])\nc2 = tf.constant([1, 2, 3])\nc3 = tf.constant([1, 3, 5])\nc4 = tf.constant([[1, 3, 5], [5, 7, 9]])\nv1 = tf.constant([[6, 5, 4, 3, 2, 1],[0, 1, 2, 9, 8, 7]])\nv2 = tf.constant([[6, 5, 4], [0, 1, 2]])\nv3 = tf.constant([2, 4, 6])\nv4 = tf.constant([[2, 4, 6], [6, 8, 0]])\n\nsession = tf.Session()\nsession.run(tf.global_variables_initializer())\n```\n\n### Slicing \n```py\nprint(\"====== Slicing ======\")\nprint(session.run(tf.slice(c1,[2],[3]))) # [3 4 5]\nprint(session.run(tf.slice(v1, [0, 2], [2, 2]))) # [[4 3] [2 9]]\nprint(session.run(tf.slice(v1, [0, 2], [2, -1]))) # [[4 3 2 1] [2 9 8 7]]\n```\n\n### Tile\n```py\nprint(\"\\n====== Tile ======\") # 한 텐서를 여러번 반복해 새로운 텐서를 만듦\nprint(session.run(tf.tile(c2, [3]))) # [1 2 3 1 2 3 1 2 3]\nprint(session.run(tf.tile(v2, [2,2])))\n# [[6 5 4 6 5 4] [0 1 2 0 1 2] [6 5 4 6 5 4] [0 1 2 0 1 2]]\n```\n\n### Pad\n```py\nprint(\"\\n====== Pad ======\") # 2차원 배열에서만 동작\nprint(session.run(tf.pad(v2, [[1,1], [2,2]], \"CONSTANT\")))\n# [[0 0 0 0 0 0 0] [0 0 6 5 4 0 0] [0 0 0 1 2 0 0] [0 0 0 0 0 0 0]]\nprint(session.run(tf.pad(v2, [[1,1], [2,2]], \"REFLECT\"))) # 반복\n# [[2 1 0 1 2 1 0] [4 5 6 5 4 5 6] [2 1 0 1 2 1 0] [4 5 6 5 4 5 6]]\nprint(session.run(tf.pad(v2, [[1,1], [2,2]], \"SYMMETRIC\"))) # 가운데 대칭\n# [[5 6 6 5 4 4 5] [5 6 6 5 4 4 5] [1 0 0 1 2 2 1] [1 0 0 1 2 2 1]]\n```\n\n### Stack \u0026 Unstack\n```py\nprint(\"\\n====== Stack ======\") # pack -\u003e stack 차원 증가\nprint(session.run(tf.stack([c3, v3]))) # [[1 3 5] [2 4 6]]\nprint(session.run(tf.stack([c4, v4]))) # [[[1 3 5] [5 7 9]]  [[2 4 6] [6 8 0]]]\n\nprint(\"\\n====== Unstack ======\") # unpack -\u003e unstack 차원 감소\ns1 = tf.stack([c3,v3]) # [[1, 3, 5] [2 4 6]]\ns2 = tf.stack([c4,v4]) # [[[1 3 5] [5 7 9]] [[2 4 6] [6 8 0]]\nprint(session.run(tf.unstack(s1))) # [[1, 3, 5] [2, 4 ,6]]\nprint(session.run(tf.unstack(s2))) # [[[1, 3, 5], [5, 7, 9]], [[2, 4, 6], [6, 8, 0]]]\n```\n\n### Reverse\n```py\nprint(\"\\n====== Reverse ======\")\nprint(session.run(tf.reverse(v1, [True, False]))) # [[7 8 9 2 1 0] [1 2 3 4 5 6]]\n```\n\n### Transpose\n전치행렬 리턴\n\n```py\nprint(\"\\n====== Transpose ======\")\nprint(session.run(tf.transpose(c3))) # [1 3 5]\nprint(session.run(tf.transpose(c4, perm=[0,1]))) # [[1 3 5] [5 7 9]]\n```\n\n### Gather\n```py\nprint(\"\\n====== Gather ======\")\nprint(session.run(tf.gather(c1, [2, 5, 2, 5]))) # [3 0 3 0]\nprint(session.run(tf.gather(v1, [[0,0], [1,1]])))\n# [[[6 5 4 3 2 1] [6 5 4 3 2 1]] [[0 1 2 9 8 7] [0 1 2 9 8 7]]]\n```\n\n### one_hot\n```py\nprint(\"\\n====== one_hot ======\")\nprint(session.run(tf.one_hot([1,2,3,4],2)))\n# [[0. 1.] [0. 0.] [0. 0.] [0. 0.]]\nprint(session.run(tf.one_hot([2,-1,1],3)))\n# [[0. 0. 1.] [0. 0. 0.] [0. 1. 0.]]\n```\n\n","layout":"post","title":"[TensorFlow] TensorFlow 배열 다루기","categories":["TensorFlow"],"excerpt":" ","comments":true,"share":true,"tags":["TensorFlow","array"]}},"__N_SSG":true},"page":"/articles/[dir_slug]/[slug]","query":{"dir_slug":"2019-07","slug":"Tensorflow-array-functions"},"buildId":"nJPyYqODS0udXw2rMLLyn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>